<!--Template Name: Timecenter
File Name: login.html
Author Name: ThemeVault
Author URI: http://www.themevault.net/
License URI: http://www.themevault.net/license/-->
<!DOCTYPE html>
<html>
  <head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="icon" href="images/favicon.png"/>
		<link href="https://fonts.googleapis.com/css?family=Montserrat:200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet"> 
		<title>Jasmine's Store Login</title>
			<!--custom css, themevault.net-->
			<link href="css/timepiece/bootstrap.min.css" rel="stylesheet" type="text/css" />
			<link href="fonts/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
			<link href="css/timepiece/style.css" rel="stylesheet" type="text/css" />
			<link href="css/timepiece/responsive.css" rel="stylesheet" type="text/css" />
			<!--js --->
			<script src="templatejs/jquery.min.js" type="text/javascript"></script>
			<script src="templatejs/bootstrap.min.js" type="text/javascript"></script>
			<script src="templatejs/custom.js" type="text/javascript"></script>

		<!--MY SCRIPT-->
		<script>
			//Get parameters of quantities submitted from the URL
			window.onload = function() {
				let params = (new URL(document.location)).searchParams;
				document.getElementById("input-qstr").value = params; // get the query string which has the form data
					
					//Split params into quantities and errors
					let quantities = [];
					let errors = []
					let qtyStr = '';
					
					//THIS IS CREATED with assistance from Chat gpt 
					//Separate each key, quantity, and error and separate it one by one
					params.forEach((value, key) => {
						if (key.startsWith('quantity') || key === 'purchase_submit') {
							if (key === 'purchase_submit') {
								qtyStr += `${key}=${value}&`;
							} else {
								quantities.push(`${key}=${value}`);
							}
						} else if (key.startsWith('error')) {
							errors.push(value);
						} else if (key === 'email') {
							document.getElementById("input-" + key).value = decodeURIComponent(value);
						}
					});
	
					console.log(errors);
	
					if (errors.length > 0) {
						for (let i in errors) {
							errorMsg = errors[i];
							document.getElementById('errorsbox').innerHTML += errorMsg + " ";
							document.getElementById('errorsbox').style.color = "red";
						}
					}
						//rebuild quantity string
						qtyStr += quantities.join("&");
						document.getElementById('input-qstr').value = qtyStr;

						//append to href for register
						for (i=0; i < 3; i++) {
							document.getElementById("registerLink" + i).href = "/register.html" + "?" + qtyStr; 
						}
						//append to href for login just in case of a user error
						for (i=0; i < 1; i++) {
							document.getElementById("loginLink" + i).href = "/login.html" + "?" + qtyStr; 
						}
				}
		</script>
  </head>
  <body>
    <header class="header-container">
      <div class="container">
        <div class="top-row">
          <div class="row">
            <div class="col-md-3 col-sm-3 col-xs-6 width-100">
              <div id="logo">
                <a href="index.html">Jasmine's Store</a>
              </div>
            </div>
            <div class="col-md-3 col-sm-4 col-sm-offset-1 col-md-offset-1 col-xs-6 width-100">
              <div class="input-group" id="search">
                <input type="text" class="form-control  search-box" placeholder="Search" value="" name="search">
                <span class="input-group-btn">
                  <button class="btn search-button" type="button">
                    <i class="fa fa-search fa-lg"></i>
                  </button>
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
    </header>
    <!--navigation--->
    <section class="main-nav-block">
      <div class="logo-fix">
        <a href="index.html">Jasmine's Store</a>
      </div>
      <div class="container">
        <div class="row add-space">
          <div class="col-xs-12 visible-xs">
            <div class="button-spl-box">
              <a id="wishlist-total">
                <i class="fa fa-heart-o fa-2x"></i>
              </a>
              <a class="cart.html">
                <i class="fa fa-shopping-bag fa-2x"></i>
              </a>
            </div>
          </div>
          <div class="col-md-9 col-sm-9 col-xs-12 remove-padd-left">
            <nav class="menu-bar">
              <div class="container-fluid remove-padd-left">
                <div class="navbar-header">
                  <!--                                    <span class="">Menu</span>-->
                  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <i class="fa fa-bars" aria-hidden="true"></i>
                  </button>
                </div>
                <div class="collapse navbar-collapse" id="myNavbar">
                  <ul class="nav navbar-nav">
                    <li>
                      <a href="index.html">
                        <i class="fa fa-home fa-lg"></i>
                      </a>
                    </li>
                    <li>
                      <a href="store.html">Store</a>
                    </li>
                    <li>
                      <a href="https://en.wikipedia.org/wiki/Dwayne_Johnson">About Jasmine</a>
										</li>
                  </ul>
                </div>
              </div>
            </nav>
          </div>
          <div class="col-md-3 col-sm-3 hidden-xs">
            <div class="button-spl-box pull-right">
              <span class="dropdown">
                <span class="toggle" data-toggle="dropdown" aria-expanded="false">
                  <i class="fa fa-user fa-2x"></i>
                </span>
                <ul class="dropdown-menu">
                  <li>
                    <a href="login.html" id="loginLink0">Login</a>
                  </li>
                  <li>
                    <a href="register.html" id="registerLink0">Register</a>
                  </li>
                </ul>
              </span>
              <a id="wishlist-total" href="#">
                <i class="fa fa-heart-o fa-2x"></i>
              </a>
              <a href="#">
                <i class="fa fa-shopping-bag fa-2x"></i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!--end--->
    <!--middle content-->
    <div id="container">
      <div class="container">
        <ul class="breadcrumb">
          <li>
            <a href="index.html">
              <i class="fa fa-home"></i>
            </a>
          </li>
          <li>
            <a>Login</a>
          </li>
        </ul>
        <div class="row">
          <!--left sidebar---->
          <aside id="left-sidebar" class="col-sm-3">
            <div class="box category">
              <div class="box-content test">
                <div class="box-category">
                  <ul class="menu">
                    <li>
                      <a style="color: azure">Do Not Click!</a>
                    </li>
                    <li>
                      <a style="color: azure" href="register.html" id="registerLink1">Please!</a>
                    </li>
                    <li>
											<a style="color: azure">Hey these don't do anything</a>
										</li>
                  </ul>
                </div>
              </div>
            </div>
          </aside>
          <!--end sidebar-->
          <!--main content-->
          <div id="content" class="col-sm-9">
            <div class="row">
              <div class="col-sm-6">
                <div class="well">
                  <div class="heading-text">
                    <i class="fa fa-file-text-o"></i>
                    <div class="extra-wrap">
                      <h3>New Customer</h3>
                      <strong>Register Account</strong>
                      <hr />
                    </div>
                  </div>
                  <p>By creating an account you will be able to shop faster, be up to date on an order's status, and keep track of the orders you have previously made. Actually, this feature is coming soon. If you read the previous without reading this line, you may have gotten pranked.</p>
                  <a class="btn btn-primary" href="/register.html" id="registerLink2">Continue</a>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="well">
                  <div class="heading-text">
                    <i class="fa fa-key"></i>
                    <h3>Returning Customer</h3>
                    <strong>I am a returning customer</strong>
                    <hr />
                  </div>
                  <form action="/login" method="POST">
                    <div class="form-group">
                      <label for="input-email" class="control-label">E-Mail Address</label>
                      <input type="text" class="form-control" id="input-email" placeholder="E-Mail Address" value="" name="email">
                    </div>
                    <div class="form-group">
                      <label for="input-password" class="control-label">Password</label>
                      <input type="password" class="form-control" id="input-password" placeholder="Password" value="" name="password">
											<input id="input-qstr" type="hidden" name="hidden" value="">
                      <br>
											<br>
											<div id="errorsbox"></div>
                      <br>
                      <a style="color: #fff">Forgot Password</a>
                    </div>
                    <input type="submit" class="btn btn-primary" value="Login">
                  </form>
                </div>
              </div>
            </div>
          </div>
          <!--end main content-->
        </div>
      </div>
    </div>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
		<br>
    <!--End of middle content-->
    <hr class="margin-top hidden-xs" />
    <!--footer block--->
    <footer>
      <div class="copyright">
        <div class="container">
          <!--Do not remove Backlink from footer of the template. To remove it you can purchase the Backlink !--> © 2017 All right reserved. Designed by <a href="http://www.themevault.net/" target="_blank">ThemeVault.</a>
        </div>
      </div>
    </footer>
    <!--end footer block--->
    <a style="display: none" href="javascript:void(0);" class="scrollTop back-to-top" id="back-to-top">
      <i class="fa fa-chevron-up"></i>
    </a>
  </body>
</html>